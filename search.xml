<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2019/04/11/django%E6%A1%86%E6%9E%B6/"/>
      <url>/2019/04/11/django%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<p>title: django框架<br>date: 2016-12-02 15:30:16<br>categories: 后端<br>tags: [django]<br>description: 少年易老学难成，一寸光阴不可轻</p><h2 id="一、django框架的注意点："><a href="#一、django框架的注意点：" class="headerlink" title="一、django框架的注意点："></a>一、django框架的注意点：</h2><pre><code>1.创建虚拟环境的常用两种方式； 1.1  mkvirtualenv venv_name -p python3 1.2. mkvirtualenv --python=/usr/local/python3.5.3/bin/python venv_name2.djnango自动生成urls文件配置： 2.1 在所用的虚拟环境中，例如django_py3/lib/python3.5/site-packages/django/conf下，将project_template/project_name/urls.py-tpl复制到app_template下即可</code></pre><h2 id="二、HTTP协议向服务器传参有4种途径："><a href="#二、HTTP协议向服务器传参有4种途径：" class="headerlink" title="二、HTTP协议向服务器传参有4种途径："></a>二、HTTP协议向服务器传参有4种途径：</h2><pre><code>#### 2.1 URL路径参数:</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># http://127.0.0.1:8000/users/index/2018/beijing</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(request,year,city)</span>:</span></span><br><span class="line">    print(<span class="string">"city=&#123;1&#125;,year=&#123;0&#125;"</span>.format(year,city))</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"ok"</span>)</span><br></pre></td></tr></table></figure><h4 id="2-2-查询字符串（query-string-，形如key1-value1-amp-key2-value2："><a href="#2-2-查询字符串（query-string-，形如key1-value1-amp-key2-value2：" class="headerlink" title="2.2 查询字符串（query string)，形如key1=value1&amp;key2=value2："></a>2.2 查询字符串（query string)，形如key1=value1&amp;key2=value2：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /qs/?a=1&amp;b=2&amp;a=3</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">qs</span><span class="params">(request)</span>:</span></span><br><span class="line">    a = request.GET.get(<span class="string">'a'</span>)</span><br><span class="line">    b = request.GET.get(<span class="string">'b'</span>)</span><br><span class="line">    alist = request.GET.getlist(<span class="string">'a'</span>)</span><br><span class="line">    print(a)  <span class="comment"># 3</span></span><br><span class="line">    print(b)  <span class="comment"># 2</span></span><br><span class="line">    print(alist)  <span class="comment"># ['1', '3']</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'OK'</span>)</span><br></pre></td></tr></table></figure><h4 id="2-3-请求体传参："><a href="#2-3-请求体传参：" class="headerlink" title="2.3 请求体传参："></a>2.3 请求体传参：</h4><h5 id="2-3-1-表单类型：Form-Data"><a href="#2-3-1-表单类型：Form-Data" class="headerlink" title="2.3.1 表单类型：Form Data"></a>2.3.1 表单类型：Form Data</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_body</span><span class="params">(request)</span>:</span></span><br><span class="line">    a = request.POST.get(<span class="string">'a'</span>)</span><br><span class="line">    b = request.POST.get(<span class="string">'b'</span>)</span><br><span class="line">    alist = request.POST.getlist(<span class="string">'a'</span>)</span><br><span class="line">    print(a)</span><br><span class="line">    print(b)</span><br><span class="line">    print(alist)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'OK'</span>)</span><br></pre></td></tr></table></figure><h5 id="2-3-2-非表单类型-：Non-Form-Data（json，xml）"><a href="#2-3-2-非表单类型-：Non-Form-Data（json，xml）" class="headerlink" title="2.3.2 非表单类型 ：Non-Form Data（json，xml）"></a>2.3.2 非表单类型 ：Non-Form Data（json，xml）</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_body_json</span><span class="params">(request)</span>:</span></span><br><span class="line">    json_str = request.body</span><br><span class="line">    json_str = json_str.decode()  <span class="comment"># python3.6 无需执行此步</span></span><br><span class="line">    req_data = json.loads(json_str)</span><br><span class="line">    print(req_data[<span class="string">'a'</span>])</span><br><span class="line">    print(req_data[<span class="string">'b'</span>])</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'OK'</span>)</span><br></pre></td></tr></table></figure><h4 id="2-4-请求头"><a href="#2-4-请求头" class="headerlink" title="2.4 请求头"></a>2.4 请求头</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_headers</span><span class="params">(request)</span>:</span></span><br><span class="line">    print(request.META[<span class="string">'CONTENT_TYPE'</span>])</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">'OK'</span>)</span><br></pre></td></tr></table></figure><p>#</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
